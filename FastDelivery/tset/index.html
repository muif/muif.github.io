<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <link rel="manifest" href="/manifest.json">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุงู ุงูููุฏูุจ</title>
    <link rel="stylesheet" href="css/driver.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body style="display: none;">
    <div id="maintenance-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #f8fafc; z-index: 9999999; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 20px;">
        <img id="maint-img" src="" style="max-width: 200px; margin-bottom: 20px; display: none; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
        <h1 id="maint-title" style="color: #b45309; font-family: 'Cairo', sans-serif; margin-bottom: 10px; font-weight: 900;">ูุญู ูู ุตูุงูุฉ ุญุงููุงู</h1>
        <p id="maint-desc" style="color: #64748b; font-size: 16px; margin-bottom: 25px; line-height: 1.6;">ูุนูู ุนูู ุชุญุณูู ุชุทุจูู ุงูููุฏูุจ ูุณูุนูุฏ ูุฑูุจุงู...</p>
        <a id="maint-link-btn" href="#" target="_blank" style="display: none; background: #3b82f6; color: white; padding: 12px 25px; border-radius: 8px; text-decoration: none; font-weight: bold; box-shadow: 0 4px 10px rgba(59,130,246,0.3);">ุชุงุจุน ุงูุชุญุฏูุซุงุช ููุง</a>
    </div>

    <div id="page-dynamic-content" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #f8fafc; z-index: 6000; overflow-y: auto; direction: rtl;">
        <div style="background: white; padding: 20px; display: flex; align-items: center; gap: 15px; border-bottom: 1px solid #e2e8f0; position: sticky; top: 0; z-index: 10; box-shadow: 0 2px 10px rgba(0,0,0,0.03);">
            <i class="fas fa-arrow-right" id="close-dynamic-page" style="font-size: 20px; cursor: pointer; color: #64748b; padding: 5px;"></i>
            <h3 id="dyn-page-title" style="margin: 0; font-size: 16px; color: #1e293b; font-weight: 900;">ุนููุงู ุงูุตูุญุฉ</h3>
        </div>
        <div style="padding: 0; padding-bottom: 80px;">
            <img id="dyn-page-img" src="" style="width: 100%; height: 220px; object-fit: cover; display: none; background: #eee;">
            <div style="padding: 20px; background: white; min-height: calc(100vh - 280px);">
                <p id="dyn-page-body" style="color: #475569; font-size: 15px; line-height: 1.8; margin-top: 0; white-space: pre-wrap; font-weight: 500;"></p>
            </div>
        </div>
    </div>
    <header class="driver-header" style="display: flex; justify-content: space-between; align-items: center;">
        <div>
            <h3 id="driver-name">ุฌุงุฑู ุงูุชุญููู..</h3>
            <p id="assigned-zones" style="font-size: 11px; color: #bdc3c7; margin: 0; margin-top: 5px;"></p>
        </div>
        <div id="nav-bell-btn" style="position: relative; cursor: pointer; font-size: 24px; color: white; padding: 5px;">
            <i class="fas fa-bell"></i>
            <span id="unread-badge" style="position: absolute; top: -5px; right: -8px; background: #e74c3c; color: white; font-size: 11px; font-weight: bold; padding: 2px 6px; border-radius: 50%; display: none; border: 2px solid #2c3e50;">0</span>
        </div>
    </header>

    <div id="available-orders-section" class="tab-section">
        <h4 style="margin: 15px 15px 0 0; color: #f1c40f;"><i class="fas fa-satellite-dish"></i> ุทูุจุงุช ูุชุงุญุฉ ูู ููุทูุชู:</h4>
        <div id="available-list"></div>
    </div>

    <div id="active-order-section" class="tab-section" style="display: none;">
        <h4 style="margin: 15px 15px 0 0; color: #2ecc71;"><i class="fas fa-truck-loading"></i> ูููุชู ุงูุญุงููุฉ:</h4>
        <div id="active-order-details"></div>
    </div>

    <div id="wallet-section" class="tab-section" style="display: none; padding: 20px 15px;">

        <div class="modern-wallet-card">
            <div class="wallet-title">ุงูุฐูุฉ ุงููุงููุฉ (ุงููุทููุจ ููููุชุจ)</div>
            <div class="wallet-amount" id="driver-wallet-amount">0 <span style="font-size: 16px;">ุฏ.ุน</span></div>
            <i class="fas fa-wallet wallet-icon-bg"></i>
        </div>

        <h4 style="margin-bottom: 15px; color: #475569;"><i class="fas fa-file-invoice-dollar"></i> ุงูุณุฌู ุงููุงูู ูุงูุฅูุตุงูุงุช:</h4>
        <div id="transactions-list">
            <p style="text-align:center; color:gray;">ุฌุงุฑู ุชุญููู ุงูุณุฌู...</p>
        </div>
    </div>
    <div id="account-section" class="tab-section" style="display: none; padding: 15px;">

        <div class="card" style="text-align: center; padding: 30px 15px; background: white; border-radius: 12px; box-shadow: 0 2px 5px rgba(0,0,0,0.02); margin-bottom: 15px;">
            <div style="width: 80px; height: 80px; background: #e0f2fe; color: #0284c7; border-radius: 50%; display: inline-flex; justify-content: center; align-items: center; font-size: 35px; margin-bottom: 15px;">
                <i class="fas fa-motorcycle"></i>
            </div>
            <h2 id="account-driver-name" style="color: #2c3e50; margin-bottom: 5px; font-size: 22px;">ุฌุงุฑู ุงูุชุญููู...</h2>
            <p id="account-driver-phone" style="color: #7f8c8d; font-size: 15px; margin-top: 0; direction: ltr; font-weight: bold;">...</p>
        </div>
        <div id="account-update-banner" style="display: none; background: linear-gradient(135deg, #f59e0b, #d97706); margin-bottom: 15px; padding: 15px; border-radius: 12px; color: white; align-items: center; justify-content: space-between; box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);">
            <div style="flex: 1;">
                <h4 style="margin: 0 0 5px 0; font-size: 15px;"><i class="fas fa-arrow-circle-up"></i> ุชุญุฏูุซ ุฌุฏูุฏ ูุชููุฑ!</h4>
                <p id="acc-upd-title" style="margin: 0; font-size: 12px; opacity: 0.9; line-height: 1.4;">ุงุญุตู ุนูู ุฃุญุฏุซ ุงูููุฒุงุช ูุงูุฅุตูุงุญุงุช.</p>
            </div>
            <a id="acc-upd-link" href="#" style="background: white; color: #d97706; padding: 8px 15px; border-radius: 8px; font-weight: bold; font-size: 12px; text-decoration: none; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">ุชุญุฏูุซ</a>
        </div>


        <div class="card" style="background: white; border-radius: 12px; padding: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.02); margin-bottom: 15px;">
            <h3 style="color:#2c3e50; margin: 10px 15px 15px 0; border-bottom: 2px solid #eee; padding-bottom: 10px;">
                <i class="fas fa-cog"></i> ุฅุนุฏุงุฏุงุช ุงูุญุณุงุจ
            </h3>
            <div id="btn-d-edit-profile" style="display: flex; align-items: center; padding: 15px 0; cursor: pointer; border-bottom: 1px solid #f8f9fa;">
                <div style="width: 35px; height: 35px; border-radius: 8px; display: flex; justify-content: center; align-items: center; font-size: 16px; margin-left: 15px; background: #eff6ff; color: #3b82f6;"><i class="fas fa-user-edit"></i></div>
                <div style="flex: 1; font-size: 15px; font-weight: bold; color: #34495e;">ุชุนุฏูู ุจูุงูุงุชู</div>
                <i class="fas fa-chevron-left" style="color: #bdc3c7; font-size: 14px;"></i>
            </div>
            <div id="btn-d-change-password" style="display: flex; align-items: center; padding: 15px 0; cursor: pointer;">
                <div style="width: 35px; height: 35px; border-radius: 8px; display: flex; justify-content: center; align-items: center; font-size: 16px; margin-left: 15px; background: #fff7ed; color: #f97316;"><i class="fas fa-lock"></i></div>
                <div style="flex: 1; font-size: 15px; font-weight: bold; color: #34495e;">ุชุบููุฑ ูููุฉ ุงููุฑูุฑ</div>
                <i class="fas fa-chevron-left" style="color: #bdc3c7; font-size: 14px;"></i>
            </div>
        </div>
        <div class="card" style="margin-bottom: 15px; background: white; border-radius: 12px; padding: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.02);">
            <h3 style="color:#2c3e50; margin: 10px 15px 15px 0; border-bottom: 2px solid #eee; padding-bottom: 10px;">
                <i class="fas fa-headset"></i> ุงูุฏุนู ุงูููู ููููุงุฏูุจ
            </h3>
            <div id="btn-d-support-whatsapp" style="display: flex; align-items: center; padding: 15px 0; cursor: pointer; border-bottom: 1px solid #f8f9fa;">
                <div style="width: 35px; height: 35px; border-radius: 8px; display: flex; justify-content: center; align-items: center; font-size: 16px; margin-left: 15px; background: #dcfce7; color: #16a34a;"><i class="fab fa-whatsapp"></i></div>
                <div style="flex: 1; font-size: 15px; font-weight: bold; color: #34495e;">ุชูุงุตู ูุน ุงูุฏุนู (WhatsApp)</div>
                <i class="fas fa-chevron-left" style="color: #bdc3c7; font-size: 14px;"></i>
            </div>
            <div id="btn-d-support-email" style="display: none; align-items: center; padding: 15px 0; cursor: pointer;">
                <div style="width: 35px; height: 35px; border-radius: 8px; display: flex; justify-content: center; align-items: center; font-size: 16px; margin-left: 15px; background: #eff6ff; color: #3b82f6;"><i class="fas fa-envelope"></i></div>
                <div style="flex: 1; font-size: 15px; font-weight: bold; color: #34495e;">ุฑุงุณู ุงูุฅุฏุงุฑุฉ (Email)</div>
                <i class="fas fa-chevron-left" style="color: #bdc3c7; font-size: 14px;"></i>
            </div>
        </div>
        <div class="card" id="dynamic-pages-card" style="display: none; margin-bottom: 15px; background: white; border-radius: 12px; padding: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.02);">
            <h3 style="color:#2c3e50; margin: 10px 15px 15px 0; border-bottom: 2px solid #eee; padding-bottom: 10px;">
                <i class="fas fa-file-contract"></i> ุณูุงุณุงุช ูุดุฑูุท
            </h3>
            <div id="dynamic-pages-container">
            </div>
        </div>
        <div class="card" style="background: white; border-radius: 12px; padding: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.02); margin-bottom: 80px;">
            <h3 style="color:#e74c3c; margin: 10px 15px 15px 0; border-bottom: 2px solid #eee; padding-bottom: 10px;">
                <i class="fas fa-exclamation-triangle"></i> ุงูุญุณุงุจ
            </h3>
            <div id="account-logout-btn" style="display: flex; align-items: center; padding: 15px 0; cursor: pointer; border-bottom: 1px solid #f8f9fa;">
                <div style="width: 35px; height: 35px; border-radius: 8px; display: flex; justify-content: center; align-items: center; font-size: 16px; margin-left: 15px; background: #fef2f2; color: #e74c3c;"><i class="fas fa-sign-out-alt"></i></div>
                <div style="flex: 1; font-size: 15px; font-weight: bold; color: #e74c3c;">ุชุณุฌูู ุงูุฎุฑูุฌ</div>
            </div>
            <div id="btn-d-delete-account" style="display: flex; align-items: center; padding: 15px 0; cursor: pointer;">
                <div style="width: 35px; height: 35px; border-radius: 8px; display: flex; justify-content: center; align-items: center; font-size: 16px; margin-left: 15px; background: #fef2f2; color: #c0392b;"><i class="fas fa-user-times"></i></div>
                <div style="flex: 1; font-size: 15px; font-weight: bold; color: #c0392b;">ุญุฐู ุญุณุงุจู ููุงุฆูุงู</div>
            </div>
        </div>
    </div>

    <style>
        .d-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(4px);
            z-index: 5000;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            opacity: 0;
            visibility: hidden;
            transition: 0.3s;
        }

            .d-modal-overlay.active {
                opacity: 1;
                visibility: visible;
            }

        .d-modal-content {
            background: white;
            width: 100%;
            max-width: 500px;
            padding: 25px 20px 40px 20px;
            border-top-left-radius: 30px;
            border-top-right-radius: 30px;
            transform: translateY(100%);
            transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            direction: rtl;
        }

        .d-modal-overlay.active .d-modal-content {
            transform: translateY(0);
        }

        .d-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

            .d-modal-header h3 {
                margin: 0;
                font-size: 18px;
                color: #1e293b;
                font-weight: bold;
            }

        .d-close-modal {
            background: #f1f5f9;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #64748b;
            cursor: pointer;
            font-size: 16px;
        }

        .d-form-group {
            margin-bottom: 15px;
            text-align: right;
        }

            .d-form-group label {
                display: block;
                margin-bottom: 8px;
                font-size: 14px;
                font-weight: bold;
                color: #475569;
            }

            .d-form-group input {
                width: 100%;
                padding: 15px;
                border: 2px solid #e2e8f0;
                border-radius: 12px;
                font-size: 15px;
                font-family: inherit;
                background: #f8fafc;
                outline: none;
                transition: 0.3s;
            }

                .d-form-group input:focus {
                    border-color: #3b82f6;
                    background: white;
                }

        .d-save-btn {
            width: 100%;
            background: #3b82f6;
            color: white;
            padding: 16px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
            transition: 0.2s;
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.3);
        }

            .d-save-btn:disabled {
                background: #94a3b8;
                box-shadow: none;
                cursor: not-allowed;
            }
    </style>

    <div id="d-modal-edit-profile" class="d-modal-overlay">
        <div class="d-modal-content">
            <div class="d-modal-header">
                <h3><i class="fas fa-user-edit" style="color:#3b82f6;"></i> ุชุนุฏูู ุจูุงูุงุชู</h3>
                <i class="fas fa-times d-close-modal" data-target="d-modal-edit-profile"></i>
            </div>
            <div class="d-form-group">
                <label>ุงูุงุณู ุงููุงูู</label>
                <input type="text" id="d-edit-name-input" placeholder="ุงุณูู">
            </div>
            <div class="d-form-group">
                <label>ุฑูู ุงููุงุชู</label>
                <input type="tel" id="d-edit-phone-input" placeholder="07X XXXX XXXX" dir="ltr" maxlength="11" oninput="this.value = this.value.replace(/[^0-9]/g, '');">

            </div>
            <button class="d-save-btn" id="d-save-profile-btn">ุญูุธ ุงูุชุนุฏููุงุช</button>
        </div>
    </div>

    <div id="d-modal-change-password" class="d-modal-overlay">
        <div class="d-modal-content">
            <div class="d-modal-header">
                <h3><i class="fas fa-lock" style="color:#f97316;"></i> ุชุบููุฑ ูููุฉ ุงููุฑูุฑ</h3>
                <i class="fas fa-times d-close-modal" data-target="d-modal-change-password"></i>
            </div>
            <div class="d-form-group">
                <label>ูููุฉ ุงููุฑูุฑ ุงูุญุงููุฉ</label>
                <input type="password" id="d-current-pwd-input" placeholder="ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ ุงููุฏููุฉ">
            </div>
            <div class="d-form-group">
                <label>ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ</label>
                <input type="password" id="d-new-pwd-input" placeholder="ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ">
            </div>
            <button class="d-save-btn" id="d-save-pwd-btn" style="background: #f97316; box-shadow: 0 5px 15px rgba(249, 115, 22, 0.3);">ุชุญุฏูุซ ูููุฉ ุงููุฑูุฑ</button>
            <p id="d-pwd-error-msg" style="color:#ef4444; font-size:13px; font-weight:bold; margin-top:15px; text-align:center; display:none;"></p>
        </div>
    </div>

    <div id="d-modal-delete-account" class="d-modal-overlay">
        <div class="d-modal-content">
            <div class="d-modal-header">
                <h3><i class="fas fa-exclamation-triangle" style="color:#dc2626;"></i> ุชุญุฐูุฑ ูุงู</h3>
                <i class="fas fa-times d-close-modal" data-target="d-modal-delete-account"></i>
            </div>
            <p style="color: #475569; font-size: 14px; margin-bottom: 20px; line-height: 1.6; background: #fef2f2; padding: 15px; border-radius: 10px; border: 1px dashed #f87171;">
                ุณูุชู ูุณุญ ุญุณุงุจู ูููุฏูุจ ูู ุงููุธุงู ููุงุฆูุงู.
                <br><br><strong>ูุฑุฌู ุฅุฏุฎุงู ูููุฉ ุงููุฑูุฑ ูุชุฃููุฏ ุงูุญุฐู:</strong>
            </p>
            <div class="d-form-group">
                <input type="password" id="d-delete-pwd-input" placeholder="ูููุฉ ุงููุฑูุฑ ุงูุฎุงุตุฉ ุจู">
            </div>
            <button class="d-save-btn" id="d-confirm-delete-btn" style="background: #dc2626; box-shadow: 0 5px 15px rgba(220, 38, 38, 0.3);">ุญุฐู ุญุณุงุจู ููุฃุจุฏ</button>
            <p id="d-delete-error-msg" style="color:#ef4444; font-size:13px; font-weight:bold; margin-top:15px; text-align:center; display:none;"></p>
        </div>
    </div>
    <nav class="bottom-nav">
        <div class="nav-item active" id="nav-tab-available">
            <i class="fas fa-clipboard-list"></i>
            <span>ูุชุงุญ</span>
        </div>
        <div class="nav-item" id="nav-tab-active">
            <i class="fas fa-motorcycle"></i>
            <span>ููุงูู</span>
        </div>
        <div class="nav-item" id="nav-tab-wallet">
            <i class="fas fa-wallet"></i>
            <span>ูุญูุธุชู</span>
        </div>
        <div class="nav-item" id="nav-tab-account">
            <i class="fas fa-user"></i>
            <span>ุญุณุงุจู</span>
        </div>
    </nav>
    <div id="transfer-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 2000; justify-content: center; align-items: center; direction: rtl;">
        <div style="background: white; width: 90%; max-width: 400px; border-radius: 12px; padding: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.5);">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <h3 style="color: #e74c3c; margin: 0;"><i class="fas fa-ambulance"></i> ุชุญููู ุงูุทูุงุฑุฆ</h3>
                <button id="close-transfer-modal" style="background: none; border: none; font-size: 24px; color: gray; cursor: pointer;">&times;</button>
            </div>
            <p style="font-size: 13px; color: #555; margin-bottom: 15px; background: #fff3cd; padding: 10px; border-radius: 5px; border: 1px dashed #ffc107;">
                ุงุณุชุฎุฏู ูุฐุง ุงูุฎูุงุฑ ููุท ูู ุญุงูุงุช ุงูุทูุงุฑุฆ (ุนุทู ุงูุฏุฑุงุฌุฉุ ุญุงุฏุซุ ุฅูุฎ). ุณูุชู ุชูุซูู ูุฐุง ุงูุฅุฌุฑุงุก ูู ุงูุณุฌู ุงูุฅุฏุงุฑู.
            </p>
            <div class="input-group" style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold; font-size: 14px;">ุงุฎุชุฑ ุงูููุฏูุจ ุงูุจุฏูู ุงููุชูุงุฌุฏ ูู ููุณ ููุทูุชู:</label>
                <select id="available-drivers-select" style="width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 8px; font-size: 14px;">
                    <option value="">ุฌุงุฑู ุงูุจุญุซ ุนู ุฒููุงุก ูุชุงุญูู...</option>
                </select>
            </div>
            <button id="confirm-transfer-btn" style="width: 100%; background: #e74c3c; color: white; border: none; padding: 15px; border-radius: 8px; font-weight: bold; font-size: 16px; cursor: pointer;">
                ุชุฃููุฏ ุงูุชุญููู ูุฅุฎูุงุก ุงูุนูุฏุฉ
            </button>
        </div>
    </div>
    <div id="driver-order-details-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #f8fafc; z-index: 4000; overflow-y: auto; direction: rtl;">

        <div style="background: white; padding: 20px; border-bottom: 1px solid #e2e8f0; display: flex; align-items: center; gap: 15px; position: sticky; top: 0; z-index: 10; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
            <i class="fas fa-arrow-right" id="close-driver-order-details" style="font-size: 22px; color: #64748b; cursor: pointer; padding: 5px;"></i>
            <h3 style="margin: 0; color: #1e293b; font-size: 18px;">ุชูุงุตูู ุงููููุฉ</h3>
        </div>

        <div style="display: flex; border-bottom: 2px solid #e2e8f0; background: #fff;">
            <button class="d-order-tab-btn active" data-tab="d-tab-details" style="flex: 1; padding: 15px; border: none; background: none; font-weight: bold; font-size: 15px; color: #3b82f6; border-bottom: 3px solid #3b82f6; cursor: pointer;">๐ ุงูุชูุงุตูู ูุงูุงุชุตุงู</button>
            <button class="d-order-tab-btn" data-tab="d-tab-logs" style="flex: 1; padding: 15px; border: none; background: none; font-weight: bold; font-size: 15px; color: #64748b; border-bottom: 3px solid transparent; cursor: pointer;">โณ ูุณุงุฑ ุงูุทูุจ</button>
        </div>

        <div style="padding: 20px; padding-bottom: 100px;">

            <div id="d-tab-details" class="d-order-tab-content">

                <div style="background: white; border: 1px solid #e2e8f0; padding: 15px; border-radius: 12px; margin-bottom: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.02);">
                    <h4 style="color: #475569; margin: 0 0 10px 0; font-size: 14px;"><i class="fas fa-store"></i> ููุทุฉ ุงูุงุณุชูุงู (ุงูุชุงุฌุฑ)</h4>
                    <p style="margin: 0 0 12px 0; font-size: 16px; color: #1e293b; font-weight: bold;" id="modal-d-merchant-name">ุฌุงุฑู ุงูุชุญููู...</p>
                    <div style="display: flex; gap: 10px;">
                        <a id="btn-call-merchant" href="#" style="flex: 1; background: #f1f5f9; color: #3b82f6; border: 1px solid #bfdbfe; text-align: center; padding: 12px; border-radius: 8px; text-decoration: none; font-size: 15px; font-weight: bold;"><i class="fas fa-phone"></i> ุงุชุตุงู ุจุงูุชุงุฌุฑ</a>
                    </div>
                </div>

                <div style="background: #f0fdf4; border: 1px solid #bbf7d0; padding: 15px; border-radius: 12px; margin-bottom: 15px;">
                    <h4 style="color: #166534; margin: 0 0 10px 0; font-size: 14px;"><i class="fas fa-map-marker-alt"></i> ููุทุฉ ุงูุชุณููู (ุงูุนููู)</h4>
                    <p style="margin: 0 0 5px 0; font-size: 15px; color: #166534; font-weight: bold;" id="modal-d-customer-name">ุฌุงุฑู ุงูุชุญููู...</p>
                    <p style="margin: 0 0 8px 0; font-size: 14px; color: #166534;">ุงูุนููุฏ (FAT): <strong id="modal-d-customer-fat" style="color: #e74c3c; background: #fee2e2; padding: 2px 6px; border-radius: 4px;">...</strong></p>
                    <p style="margin: 0 0 15px 0; font-size: 14px; color: #166534; background: white; padding: 10px; border-radius: 8px; line-height: 1.5;">ููุงุญุธุฉ: <span id="modal-d-customer-note">...</span></p>

                    <div style="display: flex; gap: 10px;">
                        <a id="btn-call-customer" href="#" style="flex: 1; background: #2ecc71; color: white; text-align: center; padding: 12px; border-radius: 8px; text-decoration: none; font-size: 15px; font-weight: bold; box-shadow: 0 4px 10px rgba(46,204,113,0.3);"><i class="fas fa-phone"></i> ุงุชุตุงู ุจุงูุนููู</a>
                    </div>
                </div>

                <div style="background: white; padding: 15px; border-radius: 12px; border: 1px solid #e2e8f0;">
                    <h4 style="color: #475569; margin: 0 0 12px 0; font-size: 14px;"><i class="fas fa-wallet"></i> ุงูุญุณุงุจุงุช ุงููุงููุฉ ุงููุทููุจุฉ</h4>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 14px; color: #475569;">
                        <span>ุชุณููู ููุชุงุฌุฑ (ูุงุด):</span><strong id="modal-d-price-merchant" style="color: #f59e0b;">0 ุฏ.ุน</strong>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 14px; color: #475569;">
                        <span>ุฃุฌุฑุฉ ุงูุชูุตูู:</span><strong id="modal-d-price-delivery">0 ุฏ.ุน</strong>
                    </div>
                    <hr style="border: 0; border-top: 1px dashed #cbd5e1; margin: 10px 0;">
                    <div style="display: flex; justify-content: space-between; font-size: 18px; color: #e74c3c;">
                        <strong>ุงูุชุญุตูู ูู ุงูุนููู:</strong><strong id="modal-d-price-total">0 ุฏ.ุน</strong>
                    </div>
                </div>
            </div>

            <div id="d-tab-logs" class="d-order-tab-content" style="display: none;">
                <div id="audit-log-content-driver">
                    <p style="text-align: center; color: gray; margin-top: 20px;"><i class="fas fa-spinner fa-spin"></i> ุฌุงุฑู ุฌูุจ ุงูุณุฌู...</p>
                </div>
            </div>

        </div>
    </div>
    <div id="page-notifications" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #f8fafc; z-index: 5000; overflow-y: auto; direction: rtl;">
        <div style="background: #2c3e50; color: white; padding: 20px; display: flex; align-items: center; gap: 15px; position: sticky; top: 0; z-index: 10; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
            <i class="fas fa-arrow-right close-page-btn" data-target="page-notifications" style="font-size: 20px; cursor: pointer;"></i>
            <h3 style="margin: 0; font-size: 18px;">ุตูุฏูู ุงูุฅุดุนุงุฑุงุช ๐</h3>
        </div>
        <div id="notifications-list" style="padding: 15px; padding-bottom: 80px;">
            <p style="text-align: center; color: gray; margin-top: 50px;"><i class="fas fa-spinner fa-spin"></i> ุฌุงุฑู ุงูุชุญููู...</p>
        </div>
    </div>

    <div id="page-rich-notification" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 5001; overflow-y: auto; direction: rtl;">
        <div style="background: white; color: #333; padding: 20px; display: flex; align-items: center; gap: 15px; border-bottom: 1px solid #eee; position: sticky; top: 0;">
            <i class="fas fa-arrow-right close-page-btn" data-target="page-rich-notification" style="font-size: 20px; cursor: pointer;"></i>
            <h3 style="margin: 0; font-size: 16px; color: gray;">ุชูุงุตูู ุงูุฅุดุนุงุฑ</h3>
        </div>
        <div style="padding: 0; padding-bottom: 80px;">
            <img id="rich-notif-image" src="" style="width: 100%; height: 250px; object-fit: cover; display: none; background: #eee;">
            <div style="padding: 20px;">
                <h2 id="rich-notif-title" style="color: #1e293b; margin-top: 0; margin-bottom: 15px; font-size: 22px;">ุนููุงู ุงูุฅุดุนุงุฑ</h2>
                <p id="rich-notif-body" style="color: #475569; font-size: 16px; line-height: 1.8; margin-bottom: 25px;">ูุต ุงูุฅุดุนุงุฑ ูุธูุฑ ููุง...</p>
                <button id="rich-notif-action-btn" style="display: none; width: 100%; background: #3b82f6; color: white; padding: 15px; border: none; border-radius: 10px; font-size: 16px; font-weight: bold; cursor: pointer; box-shadow: 0 4px 10px rgba(59,130,246,0.3);">
                    <i class="fas fa-external-link-alt"></i> ุงุถุบุท ููุง ูููุฒูุฏ
                </button>
            </div>
        </div>
    </div>
    <div id="mandatory-update-screen" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #f8fafc; z-index: 99999; flex-direction: column; justify-content: center; align-items: center; padding: 20px; text-align: center;">
        <img id="m-upd-icon" src="https://cdn-icons-png.flaticon.com/512/9322/9322127.png" style="width: 120px; margin-bottom: 20px;">
        <h2 style="color: #1e293b; margin-bottom: 10px;">ุชุญุฏูุซ ููุฏุงูู ูุทููุจ!</h2>
        <p id="m-upd-title" style="color: #475569; font-size: 15px; margin-bottom: 30px; line-height: 1.6;">ููุฏ ุฃุทูููุง ุฅุตุฏุงุฑุงู ุฌุฏูุฏุงู ูุชุฌุฑุจุฉ ุฃูุถู. ูุฌุจ ุงูุชุญุฏูุซ ููุงุณุชูุฑุงุฑ ูู ุงุณุชูุจุงู ุงูุทูุจุงุช.</p>
        <a id="m-upd-link" href="#" style="background: #3b82f6; color: white; padding: 15px 30px; border-radius: 12px; font-weight: bold; text-decoration: none; width: 100%; max-width: 300px; box-shadow: 0 5px 15px rgba(59,130,246,0.3);"><i class="fas fa-download"></i> ุชุญุฏูุซ ุงูุชุทุจูู ุงูุขู</a>
    </div>

    <div id="optional-update-toast" style="display: none; position: fixed; bottom: 85px; left: 50%; transform: translateX(-50%); width: 90%; max-width: 400px; background: white; padding: 15px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); border-right: 4px solid #f59e0b; z-index: 9998; align-items: center; justify-content: space-between;">
        <div>
            <h4 style="margin: 0 0 5px 0; color: #1e293b; font-size: 14px;"><i class="fas fa-sync-alt" style="color: #f59e0b;"></i> ุชุญุฏูุซ ุฌุฏูุฏ ูุชููุฑ</h4>
            <p id="o-upd-title" style="margin: 0; color: #64748b; font-size: 12px;">ููุฒุงุช ุฌุฏูุฏุฉ ุจุงูุชุธุงุฑู!</p>
        </div>
        <div style="display: flex; gap: 10px;">
            <button id="o-upd-skip" style="background: none; border: none; color: #94a3b8; font-size: 12px; cursor: pointer; padding: 5px;">ุชุฎุทู</button>
            <a id="o-upd-link" href="#" style="background: #f59e0b; color: white; border: none; padding: 5px 12px; border-radius: 6px; font-size: 12px; font-weight: bold; text-decoration: none;">ุชุญุฏูุซ</a>
        </div>
    </div>

    <audio id="alert-sound" src="https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3" preload="auto"></audio>
    <script type="module" src="js/wallet.js"></script>
    <script type="module" src="js/driver.js"></script>
</body>

</html>
